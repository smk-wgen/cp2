<div ng-controller="CommuteTimeController">


    Select a commute time
    <p id="time"></p>

    <div id="slider-range"></div>
    <form>


                Select start address


                    <select ng-model="startaddress" ng-options="c.label for c in ucas"></select><br>
        Select end address
                    <select ng-model="endaddress" ng-options="c.label for c in ucas | filter:isNotSameAsStart"></select><br>
                <!--<label>Select end address</label>-->
                <!--<select id = "endAddressId" ng-model="endAddress" ng-options="uca as uca.label for uca in ucas">-->

        <button ng-click="submitCommute()">Save</button>



    </form>

</div>


<script>
    $(function() {
        $( "#slider-range" ).slider({
            range: true,
            min: 0,
            max: 1439,
            values: [ 420, 570 ],
            step : 15,
            slide: slideTime
        });
        function slideTime(event, ui){
            var val0 = $("#slider-range").slider("values", 0),
                val1 = $("#slider-range").slider("values", 1),
                minutes0 = parseInt(val0 % 60, 10),
                hours0 = parseInt(val0 / 60 % 24, 10),
                minutes1 = parseInt(val1 % 60, 10),
                hours1 = parseInt(val1 / 60 % 24, 10);
            startTime = getTime(hours0, minutes0);
            endTime = getTime(hours1, minutes1);

            console.log(startTime," - ", endTime);

            $("#time").text(startTime + ' - ' + endTime);
        }
        function getTime(hours, minutes) {
            var time = null;
            minutes = minutes + "";
            if (hours < 12) {
                time = "AM";
            }
            else {
                time = "PM";
            }
            if (hours == 0) {
                hours = 12;
            }
            if (hours > 12) {
                hours = hours - 12;
            }
            if (minutes.length == 1) {
                minutes = "0" + minutes;
            }
            return hours + ":" + minutes + " " + time;
        }
        slideTime();

    });
</script>